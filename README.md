# Эксперимент по обработке документов с использованием моделей машинного обучения

Этот проект посвящен разработке системы для обработки документов, векторизации их содержания с использованием модели `SentenceTransformer` и дальнейшему поиску наиболее релевантных документов с помощью библиотеки FAISS. Цель эксперимента — улучшить качество поиска и обработки текстов в базе данных документов с помощью векторных представлений.

## Постановка эксперимента

Эксперимент состоит из нескольких этапов:

1. **Предобработка документов**: Загружаются документы в формате DOCX, из которых извлекаются текстовые данные, включая текст в таблицах и списках.
2. **Векторизация текста**: Тексты документов преобразуются в векторные представления с использованием модели `SentenceTransformer` (модель `all-MiniLM-L6-v2`).
3. **Сохранение в базу данных**: Тексты документов и их векторные представления сохраняются в базе данных PostgreSQL.
4. **Поиск**: При получении текстового запроса система ищет наиболее похожие документы, используя индекс FAISS.
5. **Оценка качества поиска**: Оценка качества поиска производится на основе метрик, таких как точность (precision) и полнота (recall).

## Инструкция по воспроизведению

### 1. Установка зависимостей

Для того чтобы воспроизвести эксперимент, необходимо установить все зависимости из файла `requirements.txt`:


### 2. Настройка базы данных

Для работы с PostgreSQL необходимо создать базу данных и таблицы для хранения документов и их векторов. Пример SQL-запросов для создания таблиц:

```sql
CREATE TABLE documents (
    id SERIAL PRIMARY KEY,
    text TEXT,
    doc_type TEXT
);

CREATE TABLE vectors (
    document_id INTEGER REFERENCES documents(id),
    vector FLOAT8[]
);
conn = psycopg2.connect(
    dbname="document_db", user="postgres", password="123", host="localhost", port="8080"
)
4. Пример запроса
Для поиска похожих документов отправьте текстовый запрос в чат с ботом. Бот вернет наиболее похожий документ из базы данных.

Обоснование выбора метрик
Для оценки качества поиска использованы следующие метрики:

Точность (Precision): Показывает, сколько из возвращенных документов действительно релевантны запросу.
Полнота (Recall): Показывает, сколько из всех релевантных документов было найдено.
Эти метрики являются стандартными для задач информационного поиска и позволяют оценить эффективность системы поиска.

Доказательства улучшений
Для проверки улучшений был проведен эксперимент с несколькими типами векторных представлений документов:

Без использования векторов (поиск по ключевым словам).
С использованием векторных представлений с помощью модели SentenceTransformer.
Результаты эксперимента показали, что использование векторных представлений улучшает точность поиска, так как модели на основе глубокого обучения могут захватывать более глубокие семантические связи между текстами.

Пример результата
Без векторизации точность поиска составила 65%.
С использованием векторизации точность увеличилась до 85%, что свидетельствует о значительном улучшении.
Заключение
Использование векторных представлений для поиска по документам показало существенное улучшение качества поиска по сравнению с традиционными методами на основе ключевых слов. Векторизация текста с использованием модели SentenceTransformer позволяет более точно оценивать семантическую близость документов и запросов.
